{% extends "base.html" %}
{% block title %}Profile & Settings - BookSwap{% endblock %}
{% block content %}

<div class="text-center">
  <h2 class="text-6xl font-semibold inline-block mb-6 px-6 py-2 rounded-xl backdrop-blur-lg"
      style="color: #825d3f; background-color: rgba(255, 255, 255, 0.4); text-shadow: 1px 1px 2px rgba(0,0,0,0.1);">
    My Profile
  </h2>
</div>

<div class="max-w-md mx-auto bg-white shadow-md p-6">
  <h2 class="text-3xl text-center mb-4">Update Your Details</h2>

  {% if messages %}
    {% for message in messages %}
      <div class="{% if message.tags == 'success' %}bg-green-200 text-green-800{% elif message.tags == 'error' %}bg-red-200 text-red-800{% endif %} p-4 rounded-xl mb-4 text-center">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <form method="post" class="max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-5">
    {% csrf_token %}

    <div>
      <label class="block text-md font-medium mb-1">First Name</label>
      <input type="text" name="first_name" value="{{ user.first_name }}" class="w-full border rounded-xl px-3 py-2" required>
    </div>

    <div>
      <label class="block text-md font-medium mb-1">Last Name</label>
      <input type="text" name="last_name" value="{{ user.last_name }}" class="w-full border rounded-xl px-3 py-2" required>
    </div>

    <div>
      <label class="block text-md font-medium mb-1">Email</label>
      <input type="email" name="email" value="{{ user.email }}" class="w-full border rounded-xl px-3 py-2" required>
    </div>

    <div>
      <label class="block text-md font-medium mb-1">Shipping Address</label>
      <textarea name="address" rows="4" class="w-full border rounded-xl px-3 py-2" required>{{ user.address }}</textarea>
    </div>

    <div>
      <label class="block text-md font-medium mb-1">Book Genre Preference</label>
      <input type="text" name="genre" value="{{ user.genre_preference }}" class="w-full border rounded-xl px-3 py-2">
    </div>

    <div>
      <button type="submit" class="w-full bg-green-600 text-white py-2 px-4 rounded-xl hover:bg-green-700">
        Save Changes
      </button>
    </div>
  </form>
</div>

{% endblock %}