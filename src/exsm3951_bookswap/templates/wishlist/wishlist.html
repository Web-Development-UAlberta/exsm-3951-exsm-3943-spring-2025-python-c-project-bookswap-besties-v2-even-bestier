{% extends "base.html" %}
{% load bookswap_tags %}
{% block title %}My Wishlist{% endblock %}
{% block content %}

<h2 class="text-2xl font-bold mb-6">My Wishlist</h2>

{% for item in wishlist %}
  <div class="max-w-md mx-auto bg-white rounded-xl shadow-md p-6 mb-6">
    
    <!-- Book title and author -->
    <div class="mb-4">
      <h3 class="text-xl font-semibold">{{ item.book.title }}</h3>
      <p class="text-sm text-gray-600">{{ item.book.author }}</p>
    </div>

    <!-- Cover image -->
    <img src="{{ item.book.image_url|default:'/static/img/fallback_cover.jpg' }}" alt="No image available"
         class="w-full h-48 object-contain mb-3 rounded border" />

    <!-- Listing info -->
    <p class="text-sm text-gray-600">Condition: {{ item.condition }}</p>
    <p class="text-sm text-gray-600">Listed by: {{ item.member_owner.full_name }}</p>
    <p class="text-sm text-gray-800 font-bold">Price: ${{ item.price }}</p>

  </div>
{% empty %}
  <p class="text-center text-gray-500">Your wishlist is currently empty.</p>
{% endfor %}

{% endblock %}