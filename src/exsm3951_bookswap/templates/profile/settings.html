{% extends "base.html" %}
{% block title %}Profile & Settings - BookSwap{% endblock %}
{% block content %}

<div class="text-center">
  <h2 class="text-6xl font-semibold inline-block mb-6 px-6 py-2 rounded-xl backdrop-blur-lg"
      style="color: #825d3f; background-color: rgba(255, 255, 255, 0.4); text-shadow: 1px 1px 2px rgba(0,0,0,0.1);">
    My Profile
  </h2>
</div>

<div class="max-w-md mx-auto bg-white rounded-xl shadow-md p-6">
  {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'success' %}
        <div class="bg-green-200 text-green-800 p-4 rounded-lg mb-4 text-center">
          {{ message }}
        </div>
      {% elif message.tags == 'error' %}
        <div class="bg-red-200 text-red-800 p-4 rounded-lg mb-4 text-center">
          {{ message }}
        </div>
      {% endif %}
    {% endfor %}
  {% endif %}

  <h2 class="text-xl font-bold mb-4">My Profile</h2>

  <form method="post" class="space-y-6 max-w-xl">
    {% csrf_token %}

    <div>
      <label class="block text-sm font-medium mb-1">Full Name</label>
      <input type="text" name="name" value="{{ user.first_name }} {{ user.last_name }}" class="w-full border rounded px-3 py-2" required>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Email</label>
      <input type="email" name="email" value="{{ user.email }}" class="w-full border rounded px-3 py-2" required>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Shipping Address</label>
      <textarea name="address" rows="4" class="w-full border rounded px-3 py-2" required>{{ user.address }}</textarea>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Book Genre Preference</label>
      <input type="text" name="genre" value="{{ user.genre_preference }}" class="w-full border rounded px-3 py-2">
    </div>

    <div>
      <button type="submit" class="bg-green-600 text-white px-4 py-1 rounded-xl hover:bg-green-700">
        Save Changes
      </button>
    </div>
  </form>
</div>
{% endblock %}